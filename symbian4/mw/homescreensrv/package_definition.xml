<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE SystemDefinition [
<!ELEMENT SystemDefinition ( systemModel )>
<!ATTLIST SystemDefinition
  name CDATA #REQUIRED
  schema CDATA #REQUIRED
>
<!-- all paths are relative to the environment variable specified by the root attribute, or SOURCEROOT if not.  -->

<!-- System Model Section of DTD -->
<!ELEMENT systemModel (layer+)>

<!ELEMENT layer (block* | collection*)*>
<!-- Kernel Services, Base Services, OS Services, Etc -->
<!ATTLIST layer
  name CDATA #REQUIRED
  long-name CDATA #IMPLIED
  levels NMTOKENS #IMPLIED
  span CDATA #IMPLIED
>

<!ELEMENT block (subblock* | collection*)*>
 <!-- Generic OS services, Comms Services, etc -->
<!ATTLIST block
  levels NMTOKENS #IMPLIED
  span CDATA #IMPLIED
  level NMTOKEN #IMPLIED
  name CDATA #REQUIRED
  long-name CDATA #IMPLIED
>

<!ELEMENT subblock (collection)*>
<!-- Cellular Baseband Services, Networking Services, etc -->
<!ATTLIST subblock
  name CDATA #REQUIRED
  long-name CDATA #IMPLIED
>

<!ELEMENT collection (component)*>
<!-- Screen Driver, Content Handling, etc -->
<!ATTLIST collection
  name CDATA #REQUIRED
  long-name CDATA #IMPLIED
  level NMTOKEN #IMPLIED
>

<!ELEMENT component (unit)*>
<!-- contains units or is a  package or prebuilt -->
<!ATTLIST component
  name CDATA #REQUIRED
  long-name CDATA #IMPLIED
  deprecated CDATA #IMPLIED
  introduced CDATA #IMPLIED
  contract CDATA #IMPLIED
  plugin (Y|N) "N"
  filter CDATA #IMPLIED
  class NMTOKENS #IMPLIED
  supports CDATA #IMPLIED
  purpose ( optional | mandatory | development ) "optional"
>

<!ELEMENT unit EMPTY >
<!-- must be buildable (bld.inf) -->
<!-- bldFile  may someday be removed in favour of mrp -->
<!ATTLIST unit
  mrp CDATA #IMPLIED
  filter CDATA #IMPLIED
  bldFile CDATA #IMPLIED
  root CDATA #IMPLIED
  version NMTOKEN #IMPLIED
  prebuilt NMTOKEN #IMPLIED
  late (Y|N) #IMPLIED
  priority CDATA #IMPLIED
>
]>
<SystemDefinition name="Symbian^4" schema="2.0.1">
  <systemModel>
    <layer name="mw" long-name="Middleware" levels="generic specific">
      <block name="homescreensrv" level="specific" long-name="Home Screen Services" levels="plugin framework server generic specific">
        <collection name="appfoundation" long-name="App Foundation" level="generic">
          <component name="appfoundation_build" long-name="App Foundation Build" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/appfoundation" qmakeArgs="-r" proFile="appfoundation.pro"/>
          </component>
        </collection>
        <collection name="hswidgetmodel" long-name="Home Screen Widget Model" level="framework">
          <component name="hswidgetmodel_build" long-name="Home Screen Widget Model Build" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/hswidgetmodel" qmakeArgs="-r" proFile="hswidgetmodel.pro"/>
          </component>
        </collection>
        <collection name="contentstorage" long-name="Content Storage" level="framework">
          <component name="cautils" long-name="Content Arsenal Utils" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/contentstorage/cautils" qmakeArgs="-r" proFile="cautils.pro"/>
          </component>
          <component name="contentstorage_build" long-name="Content Storage Build" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/contentstorage/group" qmakeArgs="-r" proFile="group.pro"/>
          </component>
          <component name="casrv/calocalizerscanner" long-name="Content Arsenal Server Localizer Scanner" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/contentstorage/casrv/calocalizerscanner" qmakeArgs="-r" proFile="calocalizerscanner.pro"/>
          </component>
          <component name="cahandler" long-name="Content Arsenal Handler" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/contentstorage/cahandler" qmakeArgs="-r" proFile="cahandler.pro"/>
          </component>
          <component name="caclient" long-name="Content Arsenal Client" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/contentstorage/caclient" qmakeArgs="-r" proFile="caclient.pro"/>
          </component>
        </collection>
        <collection name="contentpublishingsrv" long-name="Content Publishing Service" level="server">
          <component name="contentpublishingdebug" filter="s60" long-name="Content Publishing Debug">
            <!-- need to move this component outside of contentpublishingutils and into separate component directory -->
            <!-- <unit bldFile="contentpublishingsrv/contentpublishingutils/contentpublishingdebug/group"/> -->
          </component>
          <component name="contentpublishingutils" filter="s60" long-name="Content Publishing Utils">
            <unit bldFile="/sf/mw/homescreensrv/contentpublishingsrv/contentpublishingutils/group"/>
          </component>
          <component name="contentpublishingserver" filter="s60" long-name="Content Publishing Server">
            <unit bldFile="/sf/mw/homescreensrv/contentpublishingsrv/contentpublishingserver/group"/>
          </component>
          <component name="contentharvester" filter="s60" long-name="Content Harvester">
            <unit bldFile="/sf/mw/homescreensrv/contentpublishingsrv/contentharvester/group"/>
          </component>
          <component name="contentpublishingsrv_build" filter="s60" long-name="Content Publishing Service Build">
            <!-- need to remove links to the above components and just contain the IBY (or move the IBY into another component). 
      		If keeping, it need to move down a directory.-->
            <unit bldFile="/sf/mw/homescreensrv/contentpublishingsrv/group"/>
          </component>
        </collection>
        <collection name="homescreensrv_plat" long-name="Home Screen Services Platform Interfaces" level="specific">
          <component name="action_handler_plugin_api" long-name="Action Handler Plugin API" filter="s60" class="api"/>
          <component name="content_harvester_plugin_api" long-name="Content Harvester Plugin API" filter="s60" class="api"/>
          <component name="menu_sat_interface_api" long-name="Menu SAT Interface API" filter="s60" class="api"/>
          <component name="sapi_contentpublishing" long-name="SAPI Content Publishing" filter="s60" class="api"/>
          <component name="sapi_actionhandler" long-name="SAPI Action Handler" filter="s60" class="api"/>
        </collection>
        <collection name="screensavermodel" long-name="Screensaver Model" level="specific">
          <component name="screensavermodel_build" long-name="Screensaver Model Build" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/screensavermodel" qmakeArgs="-r" proFile="screensavermodel.pro"/>
          </component>
        </collection>
        <collection name="hsactivityfw" long-name="Activity Framework" level="activityfw">
          <component name="hsactivityfw_build" long-name="Activity Framework Build" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/activityfw" qmakeArgs="-r" proFile="activityfw.pro"/>
          </component>
        </collection>
        <collection name="hsappkeyhandler" long-name="HS Appplication Key Handler" level="server">
          <component name="hsappkeyhandler_build" long-name="Appplication Key Handler Build" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/hsappkeyhandler" qmakeArgs="-r" proFile="hsappkeyhandler.pro"/>
          </component>
        </collection>
        <collection name="homescreensrv_info" long-name="Home Screen Services Info" level="specific">
          <component name="homescreensrvconf" long-name="Home Screen Services Config" introduced="^4" class="config">
            <unit bldFile="/sf/mw/homescreensrv/." qmakeArgs="-r" proFile="homescreensrv_exports_to_rom.pri"/>
          </component>
          <component name="homescreensrvrom" long-name="Home Screen Services ROM" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/group"/>
          </component>
          <component name="homescreensrv_test" long-name="Home Screen Services Test" filter="test,unit_test" introduced="^4">
            <unit bldFile="/sf/mw/homescreensrv/tsrc" qmakeArgs="-r MMP_RULES+=EXPORTUNFROZEN" proFile="tsrc.pro"/>
          </component>
        </collection>
      </block>
    </layer>
  </systemModel>
</SystemDefinition>
